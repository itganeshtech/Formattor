@model List<FormatResult.Models.SubjectWiseResultViewModel>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<div class="card shadow-lg p-3 mb-5 bg-white rounded">
    <div class="card-header bg-primary text-white">
        <h4>
            <i class="fas fa-trophy me-2"></i>🏆 Top Performers In Each Subject
        </h4>
    </div>
    <div class="card-body">
        <div class="row mb-1">
            <div class="col-md-6">
                @* <h5 class="text-primary">🏆 Top Performers In Each Subject</h5> *@
                <p><strong>Total Subjects:</strong> @Model.Select(s => s.SubjectCode).Distinct().Count()</p>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>S.No</th>
                        <th>Subject Name</th>
                        <th>Subject Code</th>
                        <th>Roll Number</th>
                        <th>Student Name</th>
                        <th>Marks</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        int counter = 1;
                        string[] rowColors = { "bg-light", "bg-white" };
                    }
                    @foreach (var student in Model)
                    {
                        <tr class="@rowColors[counter % 2]">
                            <td>@counter</td>
                            <td class="bg-info bg-opacity-10 fw-bold text-primary">@student.SubjectName</td>
                            <td>@student.SubjectCode</td>
                            <td>@student.RollNumber</td>
                            <td>@student.Name</td>
                            <td>
                                <span class="badge rounded-pill bg-@(student.Marks >= 90 ? "success" : student.Marks >= 75 ? "info" : "warning")">
                                    @student.Marks
                                </span>
                            </td>
                        </tr>
                        counter++;
                    }
                </tbody>
            </table>
        </div>

        <!-- Performance Summary Cards -->
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
}

